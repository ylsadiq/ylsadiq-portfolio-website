!function(e){var t={zoom:1,initZoom:1.15,animationTime:2e3,easing:"ease",onZoom:null,beforeZoom:null,afterZoom:null,offsetTop:0,offsetBottom:200};e.fn.zoomScroller=function(n){return this.each(function(){var r=e.extend({},t,n),i=e(this),s=0,o=i.find("> img");i.addClass("zs-wrapper").css("overflow","hidden").prepend("<div class='zs-img'></div>");o.remove();var u=i.find("> .zs-img");u.css({background:"url("+o.attr("src")+") center center no-repeat","background-size":"cover",overflow:"hidden",width:"100%",height:"100%",position:"absolute","-webkit-transform":"scale("+r.initZoom+")","-moz-transform":"scale("+r.initZoom+")","-o-transform":"scale("+r.initZoom+")",transform:"scale("+r.initZoom+")",transition:"transform "+r.animationTime+"ms "+r.easing,"-webkit-transition":"-webkit-transform "+r.animationTime+"ms "+r.easing,"-moz-transition":"-moz-transform "+r.animationTime+"ms "+r.easing,"-ms-transition":"-o-transform "+r.animationTime+"ms "+r.easing});var a,f=false;e("body").on("touchstart",function(){if(event.touches.length==1){a=event.touches[0].pageY;f=true}});e("body").on("touchend",function(){f=false;a=null});e(document).on("touchmove mousewheel DOMMouseScroll",function(t,n){s=e(document).scrollTop();if(i.is_on_screen(e(document).scrollTop())){if(typeof r.beforeZoom=="function")r.beforeZoom(u.parent(),"in");u.css({"-webkit-transform":"scale("+r.zoom+")","-moz-transform":"scale("+r.zoom+")","-o-transform":"scale("+r.zoom+")",transform:"scale("+r.zoom+")"}).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(e){if(typeof r.afterZoom=="function")r.afterZoom(u.parent(),"in")});if(typeof r.onZoom=="function")r.onZoom(u.parent(),"in")}else{if(typeof r.beforeZoom=="function")r.beforeZoom(u.parent(),"out");u.css({"-webkit-transform":"scale("+r.initZoom+")","-moz-transform":"scale("+r.initZoom+")","-o-transform":"scale("+r.initZoom+")",transform:"scale("+r.initZoom+")"}).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(e){if(typeof r.afterZoom=="function")r.afterZoom(u.parent(),"in")});if(typeof r.onZoom=="function")r.onZoom(u.parent(),"out")}});e.fn.is_on_screen=function(t){var n=i;var s={top:t};s.bottom=s.top+e(window).height();var o=this.offset();o.top=this.offset().top;o.bottom=this.offset().top+this.height();return!(s.bottom-r.offsetBottom<o.top||s.top-r.offsetTop>o.bottom)}})}}(window.jQuery)